<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/manage.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,500,1,0&icon_names=search" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Anuphan:wght@100..700&family=Barlow:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="img/logo/favicon/favicon.ico">
    <title>Manage</title>
</head>
<body>
    <!-- Header -->
    <header class="header-container">
        <div class="logo-container">
            <div class="icon-img" onclick="goToHome()" title="Home"><img src="/img/logo/reallogo.png" alt="" class="logo"></div>
            <label for="" id="label">Management System</label>
        </div>
        <div class="search-box">
            <input type="search" name="searchinput" id="searchinput" placeholder="Search.." class="search-input">
            <span class="material-symbols-outlined"  id="search-icon"> search </span>
            <span class="x" id="x">&times;</span>
        </div>
        <div class="nav">
            <div class="return" onclick="goToHome()">Home</div>
        </div>      
    </header>
    <!-- Main Content -->
     <div class="container">
        <div class="header-section">
            <h2>Game Management</h2>
            <div class="add-button" onclick="modalAddgame(0)">Add Game</div>
        </div>
        <table class="table" id="gamelistTable">
            <thead>
                <tr>
                    <th>GameID</th>
                    <th>Game Image</th>
                    <th>Game Name</th>
                    <th>Price</th>
                    <th>Key Amount</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="games-container"> 

            </tbody>
        </table>
     </div>
     <div class="modal" id="modal">
        <div class="addgameModal">
            <form method="POST" class="form-game" enctype="multipart/form-data" id="addGameForm">
                <div class="NavAddgame">
                    <div id="addGameTitle"></div>
                    <div class="saveOrClose" id="saveOrClose">
                        <button class="save_button" id="save_button" type="submit">Save</button>
                        <button class="close_button" type="reset" onclick="closeAddGame()">Close</button>
                    </div>
                </div>
                <div class="GameData">
                    <div class="UploadIMG">
                        <img id="preview" src="" alt="Image preview">
                        <div class="imgbutton">
                            <label for="game_imgfile" class="custom-file-upload">Upload Image *</label>
                            <input type="file" name="game_imgfile" id="game_imgfile"  class="custom-file-upload" accept=".jpg,.png,.jpeg,.avif,.webp" oninvalid="setCustomValidity('กรุณากรอกรูปภาพเกม')" oninput="setCustomValidity('')" onchange="previewImage()">
                        </div>
                        <span id="imageError" style="color: red; display: none;">กรุณาเลือกไฟล์รูปภาพ</span>
                    </div>

                    <div class="dataAddgame">   
                        <input type="hidden" name="game_id" id="game_id">
                        <label for="game_title">Game Title *</label>
                        <input type="text" name="game_title" id="game_title" required oninvalid="setCustomValidity('กรุณากรอกชื่อเกม')" oninput="setCustomValidity('')">
                        <label for="">Genre *</label>
                        <select id="game-category" name="game-category">
                            <option value="Action">Action</option>
                            <option value="Adventure">Adventure</option>
                            <option value="Retro">Retro</option>
                            <option value="Fighting">Fighting</option>
                            <option value="FPS">FPS</option>
                            <option value="Indies">Indies</option>
                            <option value="RPG">RPG</option>
                            <option value="Sports">Sports</option>
                            <option value="Horror">Horror</option>
                            <option value="Rhythm">Rhythm</option>
                            <option value="Racing">Racing</option>
                            <option value="Strategy">Strategy</option>
                        </select> 
                        <label for="game_description">Description *</label>
                        <textarea name="game_description" id="game_description" class="game_description" rows="10" required oninvalid="setCustomValidity('กรุณากรอกรายละเอียดเกม')" oninput="setCustomValidity('')"></textarea>
                        <label for="game_price">Price *</label>
                        <input type="number" id="game_price" name="game_price" step="0.01" required oninvalid="setCustomValidity('กรุณากรอกราคาเกม')" oninput="setCustomValidity('')">
    
                    </div>
                </div>
            </form>
        </div>
     </div>
     <div class="alert-modal" id="alert-modal">
        <div class="alert-contain" id="alert-contain">
            
        </div>  
     </div>
     <div class="modalKeygame">
        <div class="addkeyGameModal">
            
        </div>
     </div>
     <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
     <script src="/js/manage.js"></script>
     
</body>
</html>